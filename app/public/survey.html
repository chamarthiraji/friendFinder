<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Friends-Survey-Page</title>	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	 integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  	<style>
  		select option[disabled]:first-child {
			display: none;
		}
  	</style>
</head>

<body>
	<div class="container">
		<div class="page-header">
	  		<h1>Survey Questions </h1>
		</div>
		<form>
			<h2>About You</h2>
			<div class="form-group">
    			<label for="name">Name(Required) </label>
    			<input type="text" class="form-control" id="name" placeholder="Name">
  			</div>
  			<div class="form-group">
    			<label for="imageLink">Link to Photo Image(Required) </label>
    			<input type="text" class="form-control" id="imageLink" placeholder="image-link">
  			</div>
		
			<hr>
			<h3><strong>Question 1</strong></h3>
			<p>	Your mind is always buzzing with unexplored ideas and plans.</p>
			<select class="question" id="q1"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 2</strong></h3>
			<p>	Generally speaking, you rely more on your experience than your imagination.</p>
			<select class="question" id="q2"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 3</strong></h3>
			<p>	You find it easy to stay relaxed and focused even when there is some pressure.</p>
			<select class="question" id="q3"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 4</strong></h3>
			<p>	You rarely do something just out of sheer curiosity.</p>
			<select class="question" id="q4"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 5</strong></h3>
			<p>	People can rarely upset you.</p>
			<select class="question" id="q5"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 6</strong></h3>
			<p>It is often difficult for you to relate to other people’s feelings</p>
			<select class="question" id="q6"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 7</strong></h3>
			<p>	In a discussion, truth should be more important than people’s sensitivities.</p>
			<select class="question" id="q7"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 8</strong></h3>
			<p>	You rarely get carried away by fantasies and ideas.</p>
			<select class="question" id="q8"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 9</strong></h3>
			<p>	You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</p>
			<select class="question" id="q9"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<h3><strong>Question 10</strong></h3>
			<p>	You feel more energetic after spending time with a group of people</p>
			<select class="question" id="q10"  >
			  	<option value="" selected disabled>Select an Option</option>
			    <option value="1">1 (Strongly Disagree)</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			    <option value="5">5 (Strongly Agree)</option>
			</select>
			<br>
			<p></p>
			<!--<input type="submit" value="Submit" id="submitBtn"> -->
			<button type="button" class="btn btn-primary btn-lg btn-block" 
				data-toggle="modal" data-target="#myModal"
				id="submitBtn"><span class="glyphicon  glyphicon-search" aria-hidden="true"></span></i> Submit</button>

	  

		</form>
		<hr>
	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/surveydata">API Friends List</a> | <a
		         href="https://github.com/chamarthiraji/friendFinder">GitHub Repo</a></p>
	      </div>
	    </footer>

	</div>
	<!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Your Match</h4>
	      </div>
	      <div class="modal-body">
	        <p id="matchName"><strong></strong></p>
	        <img id="matchImage"></img>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        
	      </div>
	    </div>
	  </div>
	</div>
	<script
	  src="https://code.jquery.com/jquery-2.2.4.min.js"
	  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
	  crossorigin="anonymous"></script>
	<script >
  		$(document).ready(function(){

	  		$('#submitBtn').click(function(e){
	            e.preventDefault();
	            var newUser = {
	                name: $('#name').val().trim(),
	                photo: $('#imageLink').val().trim(),
	                scores:[
	                	$('#q1').val(),
	                	$('#q2').val(),
	                	$('#q3').val(),
	                	$('#q4').val(),
	                	$('#q5').val(),
	                	$('#q6').val(),
	                	$('#q7').val(),
	                	$('#q8').val(),
	                	$('#q9').val(),
	                	$('#q10').val()

	                ] 
	            };
	            console.log("newUser",newUser);
	            var currentURL = window.location.origin;

		        $.post(currentURL + "/api/surveydata", newUser,
		        function(data){
		        		console.log("data from survey.html",data);
		        		displayModal(data);
		           
		        });
		         function displayModal(data){
		         	console.log("inside display modal namr :",data.name);
		         	//$("#matchName").html(data.name);
		         	$("#matchName").text(data.name);
		    		$("#matchImage").attr("src", data.photo).attr("alt", data.name);
		    		$("#myModal").show();

		         }

			
			});
	    });

            
    
    </script>
	
</body>
</html>